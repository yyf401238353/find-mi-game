<!DOCTYPE html>
<html lang="en-us">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="shortcut icon" href="http://cnbj1-fds.api.xiaomi.net/bucket-study/FindMi/favicon.ico" type="image/x-icon" />
    <title>Find Mi</title>
    <style>
      #page-container{
        display: flex;
        justify-content: center;
        padding-top: 100px;
      }

      #unity-container{
        width: 1000px;
        height: 600px;
        margin-top: 200px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0px 0px 10px #80808066;
      }
    </style>
  </head>
  
  <body>
    <div id="page-container">
      <div id="unity-container"></div>
    </div>
    
  </body>
  <script>
    function Progress(unityInstance, progress) {
      if (!unityInstance.Module)
        return;
      unityInstance.logo = undefined
      unityInstance.progress = undefined
      // if (!unityInstance.logo) {
      //   unityInstance.logo = document.createElement("div");
      //   unityInstance.logo.className = "logo " + unityInstance.Module.splashScreenStyle;
      //   unityInstance.container.appendChild(unityInstance.logo);
      // }
      // if (!unityInstance.progress) {    
      //   unityInstance.progress = document.createElement("div");
      //   unityInstance.progress.className = "progress " + unityInstance.Module.splashScreenStyle;
      //   unityInstance.progress.empty = document.createElement("div");
      //   unityInstance.progress.empty.className = "empty";
      //   unityInstance.progress.appendChild(unityInstance.progress.empty);
      //   unityInstance.progress.full = document.createElement("div");
      //   unityInstance.progress.full.className = "full";
      //   unityInstance.progress.appendChild(unityInstance.progress.full);
      //   unityInstance.container.appendChild(unityInstance.progress);
      // }
      // unityInstance.progress.full.style.width = (100 * progress) + "%";
      // unityInstance.progress.empty.style.width = (100 * (1 - progress)) + "%";
      // if (progress == 1)
      //   unityInstance.logo.style.display = unityInstance.progress.style.display = "none";
    }
  
    const loaderUrl = "%UNITY_WEBGL_LOADER_URL%"
    const script = document.createElement("script")
    script.src = loaderUrl
    script.onload = () => {
      var unityInstance = UnityLoader.instantiate("unity-container", "%UNITY_WEBGL_BUILD_URL%", {onProgress: Progress});
    }
    document.body.appendChild(script)
  </script>
</html>